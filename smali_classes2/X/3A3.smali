.class public LX/3A3;
.super Ljava/lang/Object;


# static fields
.field public static final A01:LX/1mE;

.field public static final A02:LX/1mE;

.field public static final A03:LX/35J;

.field public static final A04:LX/35J;

.field public static final A05:[B

.field public static final A06:[B

.field public static final A07:[B

.field public static final A08:[B

.field public static final A09:[B

.field public static final A0A:[B

.field public static final A0B:[B

.field public static final A0C:[B

.field public static final A0D:[B

.field public static final A0E:[B

.field public static final A0F:[B

.field public static final A0G:[B

.field public static final A0H:[I


# instance fields
.field public final A00:LX/2rr;


# direct methods
.method public static constructor <clinit>()V
    .locals 8

    const/4 v5, 0x4

    new-array v0, v5, [B

    fill-array-data v0, :array_0

    sput-object v0, LX/3A3;->A0D:[B

    const/4 v0, 0x6

    new-array v0, v0, [B

    fill-array-data v0, :array_1

    sput-object v0, LX/3A3;->A05:[B

    const/16 v0, 0x9

    new-array v0, v0, [B

    fill-array-data v0, :array_2

    sput-object v0, LX/3A3;->A06:[B

    new-array v0, v5, [B

    fill-array-data v0, :array_3

    sput-object v0, LX/3A3;->A07:[B

    const/16 v0, 0x8

    new-array v0, v0, [B

    fill-array-data v0, :array_4

    sput-object v0, LX/3A3;->A08:[B

    const/4 v0, 0x3

    new-array v0, v0, [B

    fill-array-data v0, :array_5

    sput-object v0, LX/3A3;->A0C:[B

    new-array v0, v5, [B

    fill-array-data v0, :array_6

    sput-object v0, LX/3A3;->A09:[B

    const/4 v4, 0x0

    const/4 v6, 0x7

    const/4 v3, 0x1

    new-instance v0, LX/1mE;

    invoke-direct {v0, v4, v6, v3}, LX/1mE;-><init>(IIZ)V

    sput-object v0, LX/3A3;->A02:LX/1mE;

    new-instance v0, LX/1mE;

    invoke-direct {v0, v4, v4, v3}, LX/1mE;-><init>(IIZ)V

    sput-object v0, LX/3A3;->A01:LX/1mE;

    new-array v0, v5, [B

    fill-array-data v0, :array_7

    sput-object v0, LX/3A3;->A0G:[B

    new-array v0, v5, [B

    fill-array-data v0, :array_8

    sput-object v0, LX/3A3;->A0B:[B

    new-array v0, v5, [B

    fill-array-data v0, :array_9

    sput-object v0, LX/3A3;->A0A:[B

    const/16 v0, 0xb

    new-array v7, v0, [I

    const v0, 0x6164746c

    aput v0, v7, v4

    const v0, 0x63756520

    aput v0, v7, v3

    const v0, 0x64617461

    const/4 v2, 0x2

    aput v0, v7, v2

    const v1, 0x66616374

    const/4 v0, 0x3

    aput v1, v7, v0

    const v0, 0x666d7420

    aput v0, v7, v5

    const v1, 0x696e7374

    const/4 v0, 0x5

    aput v1, v7, v0

    const v1, 0x6c61626c

    const/4 v0, 0x6

    aput v1, v7, v0

    const v0, 0x6c747874

    aput v0, v7, v6

    const v1, 0x6e6f7465

    const/16 v0, 0x8

    aput v1, v7, v0

    const v1, 0x706c7374

    const/16 v0, 0x9

    aput v1, v7, v0

    const/16 v1, 0xa

    const v0, 0x736d706c

    aput v0, v7, v1

    sput-object v7, LX/3A3;->A0H:[I

    const/4 v1, 0x5

    new-instance v0, LX/35J;

    invoke-direct {v0, v4, v1, v6, v3}, LX/35J;-><init>(IIIZ)V

    sput-object v0, LX/3A3;->A04:LX/35J;

    new-instance v0, LX/35J;

    invoke-direct {v0, v4, v4, v4, v3}, LX/35J;-><init>(IIIZ)V

    sput-object v0, LX/3A3;->A03:LX/35J;

    new-array v0, v5, [B

    fill-array-data v0, :array_a

    sput-object v0, LX/3A3;->A0F:[B

    new-array v0, v2, [B

    fill-array-data v0, :array_b

    sput-object v0, LX/3A3;->A0E:[B

    return-void

    nop

    :array_0
    .array-data 1
        0x66t
        0x74t
        0x79t
        0x70t
    .end array-data

    :array_1
    .array-data 1
        0x23t
        0x21t
        0x41t
        0x4dt
        0x52t
        0xat
    .end array-data

    nop

    :array_2
    .array-data 1
        0x23t
        0x21t
        0x41t
        0x4dt
        0x52t
        0x2dt
        0x57t
        0x42t
        0xat
    .end array-data

    nop

    :array_3
    .array-data 1
        0x4ft
        0x67t
        0x67t
        0x53t
    .end array-data

    :array_4
    .array-data 1
        0x4ft
        0x70t
        0x75t
        0x73t
        0x48t
        0x65t
        0x61t
        0x64t
    .end array-data

    :array_5
    .array-data 1
        0x49t
        0x44t
        0x33t
    .end array-data

    :array_6
    .array-data 1
        0x52t
        0x49t
        0x46t
        0x46t
    .end array-data

    :array_7
    .array-data 1
        0x57t
        0x41t
        0x56t
        0x45t
    .end array-data

    :array_8
    .array-data 1
        0x66t
        0x6dt
        0x74t
        0x20t
    .end array-data

    :array_9
    .array-data 1
        0x64t
        0x61t
        0x74t
        0x61t
    .end array-data

    :array_a
    .array-data 1
        0x71t
        0x74t
        0x20t
        0x20t
    .end array-data

    :array_b
    .array-data 1
        0x33t
        0x67t
    .end array-data
.end method

.method public constructor <init>(LX/2rr;)V
    .locals 0

    invoke-direct {p0}, Ljava/lang/Object;-><init>()V

    iput-object p1, p0, LX/3A3;->A00:LX/2rr;

    return-void
.end method

.method public static A00(BBBB)I
    .locals 1

    and-int/lit16 v0, p0, 0xff

    shl-int/lit8 p0, v0, 0x18

    and-int/lit16 v0, p1, 0xff

    shl-int/lit8 v0, v0, 0x10

    or-int/2addr p0, v0

    and-int/lit16 v0, p2, 0xff

    shl-int/lit8 v0, v0, 0x8

    or-int/2addr p0, v0

    and-int/lit16 v0, p3, 0xff

    or-int/2addr p0, v0

    return p0
.end method

.method public static A01(LX/2Ms;Ljava/io/InputStream;)I
    .locals 11

    const/4 v10, 0x7

    :try_start_0
    iget-wide v2, p0, LX/2Ms;->A01:J

    iget-wide v0, p0, LX/2Ms;->A02:J

    sub-long/2addr v2, v0

    long-to-int v8, v2

    new-array v5, v8, [B

    const/4 v7, 0x0

    invoke-static {p1, v5, v7, v8}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v0

    if-ne v0, v8, :cond_a

    const/4 v9, 0x4

    aget-byte v2, v5, v9

    const/4 v0, 0x3

    if-eq v2, v0, :cond_0

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "Did not find esds description tag - found: "

    invoke-static {v0, v1, v2}, LX/0yK;->A0x(Ljava/lang/String;Ljava/lang/StringBuilder;I)V

    return v10

    :cond_0
    invoke-static {v5, v9, v8}, LX/3A3;->A0E([BII)[I

    move-result-object v0

    if-nez v0, :cond_1

    const-string v0, "Did not find esds description details"

    invoke-static {v0}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;)V

    return v10

    :cond_1
    aget v0, v0, v7

    add-int/lit8 v0, v0, 0x3

    aget-byte v2, v5, v0

    const/4 v6, 0x1

    add-int/lit8 v3, v0, 0x1

    and-int/lit16 v1, v2, 0x80

    const/16 v0, 0x80

    if-ne v1, v0, :cond_2

    add-int/lit8 v3, v3, 0x2

    :cond_2
    and-int/lit8 v0, v2, 0x40

    const/16 v4, 0x40

    if-ne v0, v4, :cond_3

    aget-byte v0, v5, v3

    add-int/lit8 v0, v0, 0x1

    add-int/2addr v3, v0

    :cond_3
    const/16 v1, 0x20

    and-int/lit8 v0, v2, 0x20

    if-ne v0, v1, :cond_4

    add-int/lit8 v3, v3, 0x2

    :cond_4
    aget-byte v2, v5, v3

    if-eq v2, v9, :cond_5

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "Did not find esds config description tag - found: "

    invoke-static {v0, v1, v2}, LX/0yK;->A0x(Ljava/lang/String;Ljava/lang/StringBuilder;I)V

    return v10

    :cond_5
    invoke-static {v5, v3, v8}, LX/3A3;->A0E([BII)[I

    move-result-object v0

    if-nez v0, :cond_6

    const-string v0, "Did not find esds config details"

    invoke-static {v0}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;)V

    return v10

    :cond_6
    aget v1, v0, v7

    add-int/lit8 v0, v1, 0x1

    aget-byte v2, v5, v0

    const/4 v3, 0x2

    if-eq v2, v4, :cond_8

    const/16 v0, 0x6b

    if-eq v2, v0, :cond_7

    packed-switch v2, :pswitch_data_0

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "Did not find esds supported type - found: "

    invoke-static {v0, v1, v2}, LX/0yK;->A0x(Ljava/lang/String;Ljava/lang/StringBuilder;I)V

    return v10

    :cond_7
    :pswitch_0
    const/4 v6, 0x2

    :cond_8
    :pswitch_1
    add-int/lit8 v0, v1, 0x2

    aget-byte v2, v5, v0

    and-int/lit16 v1, v2, 0xfc

    shr-int/2addr v1, v3

    const/4 v0, 0x5

    if-eq v1, v0, :cond_9

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "Did not find stream type - found: "

    invoke-static {v0, v1, v2}, LX/0yK;->A0x(Ljava/lang/String;Ljava/lang/StringBuilder;I)V

    return v10

    :cond_9
    return v6

    :cond_a
    return v10
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    :catch_0
    move-exception v1

    const-string v0, "Exception processing esds box: "

    invoke-static {v0, v1}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;Ljava/lang/Throwable;)V

    return v10

    :pswitch_data_0
    .packed-switch 0x66
        :pswitch_1
        :pswitch_1
        :pswitch_1
        :pswitch_0
    .end packed-switch
.end method

.method public static A02(Ljava/io/InputStream;[BII)I
    .locals 4

    array-length v0, p1

    sub-int/2addr v0, p2

    invoke-static {p3, v0}, Ljava/lang/Math;->min(II)I

    move-result v3

    const/4 v2, 0x0

    :goto_0
    if-ge v2, v3, :cond_0

    add-int v1, p2, v2

    sub-int v0, v3, v2

    invoke-virtual {p0, p1, v1, v0}, Ljava/io/InputStream;->read([BII)I

    move-result v1

    const/4 v0, -0x1

    if-eq v1, v0, :cond_0

    add-int/2addr v2, v1

    goto :goto_0

    :cond_0
    return v2
.end method

.method public static A03([BIIII)I
    .locals 4

    aget-byte v3, p0, p1

    aget-byte v2, p0, p2

    aget-byte v1, p0, p3

    aget-byte v0, p0, p4

    invoke-static {v3, v2, v1, v0}, LX/3A3;->A00(BBBB)I

    move-result v0

    return v0
.end method

.method public static A04(LX/2Ms;J)J
    .locals 2

    iget-wide v0, p0, LX/2Ms;->A01:J

    add-long/2addr p1, v0

    iget-wide v0, p0, LX/2Ms;->A02:J

    sub-long/2addr p1, v0

    return-wide p1
.end method

.method public static A05(Ljava/io/File;)LX/1mE;
    .locals 27

    invoke-static/range {p0 .. p0}, LX/3AD;->A0R(Ljava/io/File;)Ljava/io/FileInputStream;

    move-result-object v0

    new-instance v8, Ljava/io/BufferedInputStream;

    invoke-direct {v8, v0}, Ljava/io/BufferedInputStream;-><init>(Ljava/io/InputStream;)V

    :try_start_0
    const/16 v9, 0x24

    new-array v4, v9, [B

    const/4 v0, 0x0

    const/16 v12, 0x8

    invoke-static {v8, v4, v0, v12}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v2

    if-lt v2, v12, :cond_2b

    sget-object v3, LX/3A3;->A0D:[B

    const/4 v1, 0x4

    invoke-static {v4, v3, v1}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    const/4 v15, 0x3

    const/4 v13, 0x2

    const/4 v14, 0x7

    const/4 v3, 0x1

    if-eqz v1, :cond_10

    const/4 v1, 0x4

    invoke-static {v8, v4, v12, v1}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v1

    add-int/2addr v2, v1

    const/16 v5, 0xc

    if-lt v2, v5, :cond_2b

    invoke-static {v4, v0, v3, v13, v15}, LX/3A3;->A03([BIIII)I

    move-result v1

    sub-int/2addr v1, v5

    int-to-long v1, v1

    const-wide/16 v20, -0x1

    const/4 v12, 0x1

    new-array v4, v3, [I

    const v3, 0x6d6f6f76

    aput v3, v4, v0

    move-object/from16 v16, v8

    move-object/from16 v17, v4

    move-wide/from16 v18, v1

    invoke-static/range {v16 .. v21}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v1

    if-nez v1, :cond_0

    const-string/jumbo v0, "moov box not found"

    :goto_0
    invoke-static {v0}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;)V

    goto/16 :goto_4

    :cond_0
    iget-wide v9, v1, LX/2Ms;->A01:J

    iget-wide v2, v1, LX/2Ms;->A02:J

    sub-long/2addr v9, v2

    new-instance v1, LX/1u0;

    invoke-direct {v1, v8, v2, v3}, LX/1u0;-><init>(Ljava/io/InputStream;J)V

    iget-wide v2, v1, LX/1u0;->A00:J

    add-long/2addr v9, v2

    const/4 v11, 0x0

    :cond_1
    iget-wide v2, v1, LX/1u0;->A00:J

    cmp-long v4, v2, v9

    if-gez v4, :cond_e

    const-wide/16 v4, 0x0

    sub-long v6, v9, v2

    new-array v3, v12, [I

    const v2, 0x7472616b

    aput v2, v3, v0

    move-object v2, v1

    invoke-static/range {v2 .. v7}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v4

    if-eqz v4, :cond_1

    iget-wide v2, v1, LX/1u0;->A00:J

    invoke-static {v4, v2, v3}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v16

    :goto_1
    iget-wide v2, v1, LX/1u0;->A00:J

    cmp-long v4, v2, v16

    if-gez v4, :cond_1

    const-wide/16 v20, 0x0

    sub-long v22, v16, v2

    new-array v3, v12, [I

    const v2, 0x6d646961

    aput v2, v3, v0

    move-object/from16 v18, v1

    move-object/from16 v19, v3

    invoke-static/range {v18 .. v23}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v4

    if-nez v4, :cond_2

    const-string/jumbo v0, "mdia box not found"

    goto :goto_0

    :cond_2
    iget-wide v2, v1, LX/1u0;->A00:J

    invoke-static {v4, v2, v3}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v26

    sub-long v22, v26, v2

    new-array v2, v12, [I

    const v3, 0x68646c72    # 4.3148E24f

    aput v3, v2, v0

    move-object/from16 v19, v2

    invoke-static/range {v18 .. v23}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v6

    if-nez v6, :cond_3

    const-string v0, "hdlr box not found"

    goto :goto_0

    :cond_3
    iget-wide v4, v1, LX/1u0;->A00:J

    iget-wide v2, v6, LX/2Ms;->A01:J

    add-long/2addr v4, v2

    iget-wide v6, v6, LX/2Ms;->A02:J

    sub-long/2addr v4, v6

    const-wide/16 v2, 0x10

    sub-long/2addr v2, v6

    invoke-static {v1, v2, v3}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    const/4 v6, 0x4

    new-array v3, v6, [B

    invoke-static {v1, v3, v0, v6}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v2

    if-eq v2, v6, :cond_4

    const-string v0, "hdlr box too short"

    goto/16 :goto_0

    :cond_4
    invoke-static {v3, v0, v12, v13, v15}, LX/3A3;->A03([BIIII)I

    move-result v3

    const v2, 0x76696465

    if-ne v3, v2, :cond_5

    const-string/jumbo v0, "video hdlr type not valid"

    goto/16 :goto_0

    :cond_5
    const v2, 0x736f756e

    if-eq v3, v2, :cond_6

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v4

    const-string/jumbo v2, "non sound hdlr type found "

    invoke-virtual {v4, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-static {v3}, LX/3A3;->A0C(I)[B

    move-result-object v3

    new-instance v2, Ljava/lang/String;

    invoke-direct {v2, v3}, Ljava/lang/String;-><init>([B)V

    invoke-static {v4, v2}, LX/0yK;->A1I(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    goto/16 :goto_2

    :cond_6
    if-eqz v11, :cond_7

    goto/16 :goto_3

    :cond_7
    iget-wide v2, v1, LX/1u0;->A00:J

    sub-long/2addr v4, v2

    sub-long v26, v26, v2

    new-array v2, v12, [I

    const v3, 0x6d696e66

    aput v3, v2, v0

    move-object/from16 v22, v1

    move-object/from16 v23, v2

    move-wide/from16 v24, v4

    invoke-static/range {v22 .. v27}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v4

    if-nez v4, :cond_8

    const-string/jumbo v0, "minf box not found"

    goto/16 :goto_0

    :cond_8
    iget-wide v2, v1, LX/1u0;->A00:J

    invoke-static {v4, v2, v3}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v22

    sub-long v22, v22, v2

    new-array v3, v12, [I

    const v2, 0x7374626c

    aput v2, v3, v0

    move-object/from16 v19, v3

    invoke-static/range {v18 .. v23}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v4

    if-nez v4, :cond_9

    const-string/jumbo v0, "stbl box not found"

    goto/16 :goto_0

    :cond_9
    iget-wide v2, v1, LX/1u0;->A00:J

    invoke-static {v4, v2, v3}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v22

    sub-long v22, v22, v2

    new-array v3, v12, [I

    const v2, 0x73747364

    aput v2, v3, v0

    move-object/from16 v19, v3

    invoke-static/range {v18 .. v23}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v4

    if-nez v4, :cond_a

    const-string/jumbo v0, "stsd box not found"

    goto/16 :goto_0

    :cond_a
    const-wide/16 v2, 0x8

    invoke-static {v1, v2, v3}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    iget-wide v2, v1, LX/1u0;->A00:J

    invoke-static {v4, v2, v3}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v22

    new-array v7, v15, [I

    const v6, 0x6d703461

    aput v6, v7, v0

    const v4, 0x73616d72

    aput v4, v7, v12

    const v4, 0x73617762

    aput v4, v7, v13

    sub-long v22, v22, v2

    const-wide/16 v4, 0x8

    move-object/from16 v19, v7

    invoke-static/range {v18 .. v23}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v7

    if-nez v7, :cond_b

    const-string v0, "content box not found"

    goto/16 :goto_0

    :cond_b
    iget v3, v7, LX/2Ms;->A00:I

    if-eq v3, v6, :cond_c

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v0, "Found media contents that wasn\'t m4a: "

    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-static {v3}, LX/3A3;->A0C(I)[B

    move-result-object v1

    new-instance v0, Ljava/lang/String;

    invoke-direct {v0, v1}, Ljava/lang/String;-><init>([B)V

    invoke-static {v0, v2}, LX/000;->A0Y(Ljava/lang/String;Ljava/lang/StringBuilder;)Ljava/lang/String;

    move-result-object v0

    goto/16 :goto_0

    :cond_c
    iget-wide v2, v1, LX/1u0;->A00:J

    invoke-static {v7, v2, v3}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v22

    invoke-static {v1, v4, v5}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    invoke-static {v1}, LX/3A3;->A0D(Ljava/io/InputStream;)[I

    move-result-object v2

    aget v2, v2, v12

    int-to-long v4, v2

    iget-wide v2, v1, LX/1u0;->A00:J

    sub-long v22, v22, v2

    new-array v3, v12, [I

    const v2, 0x65736473

    aput v2, v3, v0

    move-wide/from16 v20, v4

    move-object/from16 v19, v3

    invoke-static/range {v18 .. v23}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v2

    if-nez v2, :cond_d

    const-string v0, "esds box not found"

    goto/16 :goto_0

    :cond_d
    invoke-static {v2, v1}, LX/3A3;->A01(LX/2Ms;Ljava/io/InputStream;)I

    move-result v11

    :goto_2
    iget-wide v4, v1, LX/1u0;->A00:J

    sub-long v2, v16, v4

    invoke-static {v1, v2, v3}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    goto/16 :goto_1

    :goto_3
    const-string/jumbo v1, "multiple hldr sound tracks found"

    invoke-static {v1}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;)V

    const/4 v11, 0x6

    goto :goto_6

    :cond_e
    if-ne v14, v11, :cond_f

    goto :goto_5

    :goto_4
    const/4 v11, 0x7

    :goto_5
    const/4 v0, 0x1

    :cond_f
    :goto_6
    new-instance v4, LX/1mE;

    invoke-direct {v4, v13, v11, v0}, LX/1mE;-><init>(IIZ)V

    goto/16 :goto_12

    :cond_10
    sget-object v1, LX/3A3;->A07:[B

    invoke-static {v4, v1, v0}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    const/4 v5, 0x5

    if-eqz v1, :cond_15

    rsub-int/lit8 v1, v2, 0x24

    invoke-static {v8, v4, v2, v1}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v1

    add-int/2addr v2, v1

    const/16 v1, 0x1b

    if-ge v2, v1, :cond_11

    const-string/jumbo v0, "not opus - too few bytes for first packet"

    :goto_7
    invoke-static {v0}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;)V

    const/4 v0, 0x4

    new-instance v4, LX/1mE;

    invoke-direct {v4, v0, v14, v3}, LX/1mE;-><init>(IIZ)V

    goto/16 :goto_12

    :cond_11
    const/16 v1, 0x1a

    aget-byte v1, v4, v1

    and-int/lit16 v1, v1, 0xff

    add-int/lit8 v10, v1, 0x1b

    sget-object v9, LX/3A3;->A08:[B

    array-length v7, v9

    add-int/2addr v7, v10

    if-ge v2, v7, :cond_13

    new-array v6, v7, [B

    invoke-static {v4, v0, v6, v0, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    sub-int v1, v7, v2

    invoke-static {v8, v6, v2, v1}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v1

    add-int/2addr v2, v1

    if-ge v2, v7, :cond_12

    const-string/jumbo v0, "not opus - too few bytes"

    goto :goto_7

    :cond_12
    move-object v4, v6

    :cond_13
    invoke-static {v4, v9, v10}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    if-eqz v1, :cond_14

    const/4 v1, 0x4

    new-instance v4, LX/1mE;

    invoke-direct {v4, v1, v5, v0}, LX/1mE;-><init>(IIZ)V

    goto/16 :goto_12

    :cond_14
    const-string/jumbo v0, "not opus - header bytes don\'t match"

    goto :goto_7

    :cond_15
    sget-object v11, LX/3A3;->A09:[B

    invoke-static {v4, v11, v0}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    if-nez v1, :cond_1a

    rsub-int/lit8 v1, v2, 0xa

    invoke-static {v8, v4, v2, v1}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v1

    add-int/2addr v2, v1

    const/16 v10, 0xa

    if-lt v2, v10, :cond_2b

    const/16 v6, -0x20

    const/16 v16, 0x6

    const/4 v7, -0x1

    if-ne v2, v10, :cond_26

    sget-object v1, LX/3A3;->A0C:[B

    invoke-static {v4, v1, v0}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    if-eqz v1, :cond_26

    aget-byte v1, v4, v16

    and-int/lit8 v1, v1, 0x7f

    shl-int/lit8 v16, v1, 0x15

    aget-byte v1, v4, v14

    and-int/lit8 v1, v1, 0x7f

    shl-int/lit8 v1, v1, 0xe

    or-int v16, v16, v1

    aget-byte v1, v4, v12

    and-int/lit8 v2, v1, 0x7f

    shl-int/2addr v2, v14

    or-int v2, v2, v16

    const/16 v1, 0x9

    aget-byte v1, v4, v1

    and-int/lit8 v1, v1, 0x7f

    or-int/2addr v2, v1

    int-to-long v1, v2

    invoke-static {v8, v1, v2}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    invoke-static {v8, v4, v0, v10}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v2

    const/16 v16, 0x800

    const/4 v12, 0x0

    :cond_16
    :goto_8
    if-lez v2, :cond_19

    if-lez v16, :cond_19

    invoke-static {v4, v11, v0}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    if-nez v1, :cond_19

    aget-byte v1, v4, v0

    if-ne v1, v7, :cond_17

    aget-byte v1, v4, v3

    and-int/lit16 v1, v1, 0xe0

    int-to-byte v1, v1

    if-eq v1, v6, :cond_19

    :cond_17
    add-int/lit8 v2, v2, -0x1

    invoke-static {v4, v3, v4, v0, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    if-nez v12, :cond_16

    invoke-virtual {v8, v4, v2, v3}, Ljava/io/InputStream;->read([BII)I

    move-result v1

    if-ne v1, v7, :cond_18

    aput-byte v0, v4, v2

    const/16 v16, 0x0

    const/4 v12, 0x1

    goto :goto_8

    :cond_18
    add-int/lit8 v2, v2, 0x1

    add-int/lit8 v16, v16, -0x1

    goto :goto_8

    :cond_19
    array-length v1, v11

    if-lt v2, v1, :cond_25

    invoke-static {v4, v11, v0}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    if-eqz v1, :cond_25

    :cond_1a
    const/16 v11, 0x24

    new-array v10, v9, [B

    const/16 v7, 0x8

    new-array v6, v7, [B

    invoke-static {v4, v0, v10, v0, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    rsub-int/lit8 v1, v2, 0x24

    invoke-static {v8, v10, v2, v1}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v1

    add-int/2addr v2, v1

    if-eq v2, v9, :cond_1b

    const-string v1, "Insufficient data for WAV file header"

    invoke-static {v1}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;)V

    const/4 v2, 0x0

    goto/16 :goto_f

    :cond_1b
    sget-object v2, LX/3A3;->A0G:[B

    invoke-static {v10, v2, v7}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    if-nez v1, :cond_1c

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v0, "Not WAVE File type "

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    array-length v0, v2

    new-instance v1, Ljava/lang/String;

    invoke-direct {v1, v10, v7, v0}, Ljava/lang/String;-><init>([BII)V

    :goto_9
    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    :goto_a
    invoke-virtual {v3}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v0

    :goto_b
    invoke-static {v0}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;)V

    goto/16 :goto_e

    :cond_1c
    sget-object v4, LX/3A3;->A0B:[B

    const/16 v2, 0xc

    invoke-static {v10, v4, v2}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    if-nez v1, :cond_1d

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v0, "Not WAVE chunk format "

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    array-length v0, v4

    new-instance v1, Ljava/lang/String;

    invoke-direct {v1, v10, v2, v0}, Ljava/lang/String;-><init>([BII)V

    goto :goto_9

    :cond_1d
    const/16 v1, 0x15

    aget-byte v2, v10, v1

    const/16 v1, 0x14

    aget-byte v4, v10, v1

    and-int/lit16 v1, v2, 0xff

    shl-int/lit8 v2, v1, 0x8

    and-int/lit16 v1, v4, 0xff

    or-int/2addr v2, v1

    const/16 v1, 0x50

    if-eq v1, v2, :cond_1e

    const/16 v1, 0x55

    if-eq v1, v2, :cond_1e

    const/16 v1, 0x1600

    if-eq v1, v2, :cond_1e

    const/16 v1, 0x1610

    if-eq v1, v2, :cond_1e

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v0, "RIFF/WAV container carries stream which is not one of supported MPEG audio streams "

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v3, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    goto :goto_a

    :cond_1e
    const/16 v1, 0x13

    aget-byte v9, v10, v1

    const/16 v1, 0x12

    aget-byte v4, v10, v1

    const/16 v1, 0x11

    aget-byte v2, v10, v1

    const/16 v1, 0x10

    aget-byte v1, v10, v1

    invoke-static {v9, v4, v2, v1}, LX/3A3;->A00(BBBB)I

    move-result v1

    add-int/lit8 v1, v1, 0x10

    const/4 v4, 0x4

    add-int/lit8 v9, v1, 0x4

    :goto_c
    sub-int v1, v9, v11

    int-to-long v1, v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    :try_start_1
    invoke-static {v8, v1, v2}, LX/3A3;->A0A(Ljava/io/InputStream;J)V
    :try_end_1
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_0
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    :try_start_2
    invoke-static {v8, v6, v0, v7}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v1

    add-int/2addr v9, v1

    if-eq v1, v7, :cond_1f

    const-string v0, "EOF reading WAVE chunk"

    goto :goto_b

    :cond_1f
    invoke-static {v6, v0, v3, v13, v15}, LX/3A3;->A03([BIIII)I

    move-result v2

    sget-object v1, LX/3A3;->A0H:[I

    invoke-static {v1, v2}, LX/39I;->A05([II)Z

    move-result v1

    if-eqz v1, :cond_23

    sget-object v1, LX/3A3;->A0A:[B

    invoke-static {v6, v1, v0}, LX/3A3;->A0B([B[BI)Z

    move-result v2

    const/4 v1, 0x6

    if-eqz v2, :cond_20

    new-array v4, v13, [B

    invoke-static {v8, v4, v0, v13}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v1

    if-eq v1, v13, :cond_21

    const-string v0, "EOF reading WAVE data"

    goto/16 :goto_b

    :cond_20
    invoke-static {v6, v14, v1, v5, v4}, LX/3A3;->A03([BIIII)I

    move-result v1

    add-int/2addr v1, v9

    move v11, v9

    move v9, v1

    goto :goto_c

    :cond_21
    aget-byte v2, v4, v0

    const/4 v1, -0x1

    if-ne v2, v1, :cond_22

    aget-byte v3, v4, v3

    and-int/lit16 v1, v3, 0xe0

    int-to-byte v2, v1

    const/16 v1, -0x20

    if-ne v2, v1, :cond_22

    goto :goto_d

    :cond_22
    const-string v0, "Not ACC/MP3 WAVE data"

    goto/16 :goto_b

    :cond_23
    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v1, "Unsupported WAVE chunk: "

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    new-instance v1, Ljava/lang/String;

    invoke-direct {v1, v6, v0, v4}, Ljava/lang/String;-><init>([BII)V

    goto/16 :goto_9

    :goto_d
    and-int/lit8 v1, v3, 0x6

    const/4 v2, 0x2

    if-nez v1, :cond_24

    const/4 v2, 0x1

    goto :goto_f

    :catch_0
    move-exception v1

    const-string v0, "Excepton reading next chunk "

    invoke-static {v0, v1}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;Ljava/lang/Throwable;)V

    :goto_e
    const/4 v2, 0x7

    const/4 v0, 0x1

    :cond_24
    :goto_f
    new-instance v4, LX/1mE;

    invoke-direct {v4, v5, v2, v0}, LX/1mE;-><init>(IIZ)V

    goto :goto_12

    :cond_25
    if-ge v2, v10, :cond_26

    goto :goto_11

    :cond_26
    rsub-int/lit8 v1, v2, 0x24

    invoke-static {v8, v4, v2, v1}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v1

    add-int/2addr v2, v1

    if-lt v2, v9, :cond_2b

    aget-byte v1, v4, v0

    if-ne v1, v7, :cond_28

    aget-byte v2, v4, v3

    and-int/lit16 v1, v2, 0xe0

    int-to-byte v1, v1

    if-ne v1, v6, :cond_28

    and-int/lit8 v1, v2, 0x6

    if-nez v1, :cond_27

    new-instance v4, LX/1mE;

    invoke-direct {v4, v3, v3, v0}, LX/1mE;-><init>(IIZ)V

    goto :goto_12

    :cond_27
    const/4 v1, 0x2

    goto :goto_10

    :cond_28
    sget-object v1, LX/3A3;->A05:[B

    invoke-static {v4, v1, v0}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    if-eqz v1, :cond_29

    const/4 v1, 0x3

    goto :goto_10

    :cond_29
    sget-object v1, LX/3A3;->A06:[B

    invoke-static {v4, v1, v0}, LX/3A3;->A0B([B[BI)Z

    move-result v1

    if-eqz v1, :cond_2a

    const/4 v1, 0x4

    :goto_10
    new-instance v4, LX/1mE;

    invoke-direct {v4, v3, v1, v0}, LX/1mE;-><init>(IIZ)V

    goto :goto_12

    :cond_2a
    sget-object v4, LX/3A3;->A02:LX/1mE;

    goto :goto_12

    :cond_2b
    :goto_11
    sget-object v4, LX/3A3;->A01:LX/1mE;
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    :goto_12
    invoke-virtual {v8}, Ljava/io/InputStream;->close()V

    return-object v4

    :catchall_0
    move-exception v1

    :try_start_3
    invoke-virtual {v8}, Ljava/io/InputStream;->close()V
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    throw v1

    :catchall_1
    move-exception v0

    invoke-virtual {v1, v0}, Ljava/lang/Throwable;->addSuppressed(Ljava/lang/Throwable;)V

    throw v1
.end method

.method public static A06(Ljava/io/File;)LX/35J;
    .locals 36

    invoke-static/range {p0 .. p0}, LX/3AD;->A0R(Ljava/io/File;)Ljava/io/FileInputStream;

    move-result-object v1

    new-instance v22, Ljava/io/BufferedInputStream;

    move-object/from16 v0, v22

    invoke-direct {v0, v1}, Ljava/io/BufferedInputStream;-><init>(Ljava/io/InputStream;)V

    :try_start_0
    const/4 v3, 0x0

    const/16 v5, 0xc

    new-array v6, v5, [B

    invoke-static {v0, v6, v3, v5}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v0

    if-ge v0, v5, :cond_0

    sget-object v9, LX/3A3;->A03:LX/35J;

    goto/16 :goto_10

    :cond_0
    const/4 v1, 0x4

    sget-object v0, LX/3A3;->A0D:[B

    invoke-static {v6, v0, v1}, LX/3A3;->A0B([B[BI)Z

    move-result v0

    if-eqz v0, :cond_2a

    sget-object v0, LX/3A3;->A0F:[B

    const/16 v2, 0x8

    invoke-static {v6, v0, v2}, LX/3A3;->A0B([B[BI)Z

    move-result v0

    const/16 v23, 0x3

    const/4 v1, 0x2

    if-eqz v0, :cond_1

    const/16 v24, 0x7

    goto :goto_0

    :cond_1
    sget-object v0, LX/3A3;->A0E:[B

    invoke-static {v6, v0, v2}, LX/3A3;->A0B([B[BI)Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v0

    invoke-static {v0}, LX/0yT;->A01(I)I

    move-result v24

    :goto_0
    :try_start_1
    aget-byte v4, v6, v3

    const/4 v0, 0x1

    aget-byte v2, v6, v0

    aget-byte v1, v6, v1

    aget-byte v0, v6, v23

    invoke-static {v4, v2, v1, v0}, LX/3A3;->A00(BBBB)I

    move-result v0

    sub-int/2addr v0, v5

    int-to-long v4, v0

    const-wide/16 v13, -0x1

    const/4 v8, 0x1

    new-array v1, v8, [I

    const v0, 0x6d6f6f76

    aput v0, v1, v3

    move-object/from16 v9, v22

    move-object v10, v1

    move-wide v11, v4

    invoke-static/range {v9 .. v14}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v1

    if-nez v1, :cond_2

    const-string/jumbo v0, "moov box not found"

    goto/16 :goto_f

    :cond_2
    new-instance v9, LX/35J;

    invoke-direct {v9}, LX/35J;-><init>()V

    move/from16 v0, v24

    iput v0, v9, LX/35J;->A01:I

    iget-wide v14, v1, LX/2Ms;->A01:J

    iget-wide v0, v1, LX/2Ms;->A02:J

    sub-long/2addr v14, v0

    new-instance v2, LX/1u0;

    move-object/from16 v4, v22

    invoke-direct {v2, v4, v0, v1}, LX/1u0;-><init>(Ljava/io/InputStream;J)V

    iget-wide v0, v2, LX/1u0;->A00:J

    add-long/2addr v14, v0

    :cond_3
    iget-wide v0, v2, LX/1u0;->A00:J

    cmp-long v4, v0, v14

    if-gez v4, :cond_29

    const-wide/16 v18, 0x0

    sub-long v20, v14, v0

    new-array v1, v8, [I

    const v0, 0x7472616b

    aput v0, v1, v3

    move-object/from16 v16, v2

    move-object/from16 v17, v1

    invoke-static/range {v16 .. v21}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v4

    if-eqz v4, :cond_3

    iget-wide v0, v2, LX/1u0;->A00:J

    invoke-static {v4, v0, v1}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v16

    :goto_1
    iget-wide v0, v2, LX/1u0;->A00:J

    cmp-long v4, v0, v16

    if-gez v4, :cond_3

    const/16 v21, 0x2

    move/from16 v4, v21

    new-array v5, v4, [I

    const v4, 0x746b6864

    aput v4, v5, v3

    const v20, 0x6d646961

    aput v20, v5, v8

    const-wide/16 v27, 0x0

    sub-long v29, v16, v0

    move-object/from16 v25, v2

    move-object/from16 v26, v5

    invoke-static/range {v25 .. v30}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v10

    if-nez v10, :cond_4

    const-string/jumbo v0, "tkmd/mdia box not found"

    goto/16 :goto_f

    :cond_4
    iget v0, v10, LX/2Ms;->A00:I

    if-ne v0, v4, :cond_9

    iget-wide v4, v2, LX/1u0;->A00:J

    iget-wide v6, v10, LX/2Ms;->A01:J

    add-long/2addr v4, v6

    iget-wide v0, v10, LX/2Ms;->A02:J

    sub-long/2addr v4, v0

    const-wide/16 v18, 0x5c

    const/4 v12, 0x0

    cmp-long v10, v6, v18

    if-ltz v10, :cond_8

    sub-long v10, v6, v0

    long-to-int v0, v10

    new-array v10, v0, [B

    invoke-static {v2, v10, v3, v0}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v1

    if-ne v1, v0, :cond_27

    aget-byte v0, v10, v3

    if-nez v0, :cond_5

    const/16 v13, 0x4c

    const/16 v19, 0x28

    goto :goto_2

    :cond_5
    if-ne v0, v8, :cond_8

    const-wide/16 v18, 0x68

    cmp-long v0, v6, v18

    if-ltz v0, :cond_8

    const/16 v13, 0x58

    const/16 v19, 0x34

    :goto_2
    aget-byte v7, v10, v13

    add-int/lit8 v0, v13, 0x1

    aget-byte v6, v10, v0

    add-int/lit8 v0, v13, 0x2

    aget-byte v1, v10, v0

    add-int/lit8 v0, v13, 0x3

    aget-byte v0, v10, v0

    invoke-static {v7, v6, v1, v0}, LX/3A3;->A00(BBBB)I

    move-result v11

    add-int/lit8 v0, v13, 0x4

    aget-byte v7, v10, v0

    add-int/lit8 v0, v13, 0x5

    aget-byte v6, v10, v0

    add-int/lit8 v0, v13, 0x6

    aget-byte v1, v10, v0

    add-int/lit8 v0, v13, 0x7

    aget-byte v0, v10, v0

    invoke-static {v7, v6, v1, v0}, LX/3A3;->A00(BBBB)I

    move-result v1

    if-lez v11, :cond_6

    if-lez v1, :cond_6

    iget v0, v9, LX/35J;->A03:I

    if-gtz v0, :cond_6

    iget v0, v9, LX/35J;->A04:I

    if-gtz v0, :cond_6

    ushr-int/lit8 v0, v1, 0x10

    iput v0, v9, LX/35J;->A03:I

    ushr-int/lit8 v0, v11, 0x10

    iput v0, v9, LX/35J;->A04:I

    :cond_6
    const/16 v13, 0x9

    new-array v11, v13, [I

    :cond_7
    mul-int/lit8 v18, v12, 0x4

    add-int v18, v18, v19

    aget-byte v7, v10, v18

    add-int/lit8 v0, v18, 0x1

    aget-byte v6, v10, v0

    add-int/lit8 v0, v18, 0x2

    aget-byte v1, v10, v0

    add-int/lit8 v0, v18, 0x3

    aget-byte v0, v10, v0

    invoke-static {v7, v6, v1, v0}, LX/3A3;->A00(BBBB)I

    move-result v0

    aput v0, v11, v12

    add-int/lit8 v12, v12, 0x1

    if-lt v12, v13, :cond_7

    aget v0, v11, v3

    const/4 v1, 0x4

    if-nez v0, :cond_8

    aget v0, v11, v8

    if-nez v0, :cond_8

    aget v0, v11, v21

    if-nez v0, :cond_8

    aget v0, v11, v23

    if-nez v0, :cond_8

    aget v0, v11, v1

    if-nez v0, :cond_8

    const/4 v0, 0x5

    aget v0, v11, v0

    if-nez v0, :cond_8

    const/4 v0, 0x6

    aget v0, v11, v0

    if-nez v0, :cond_8

    const/4 v0, 0x7

    aget v0, v11, v0

    :cond_8
    iget-wide v0, v2, LX/1u0;->A00:J

    sub-long/2addr v4, v0

    sub-long v33, v16, v0

    new-array v0, v8, [I

    aput v20, v0, v3

    move-object/from16 v29, v2

    move-object/from16 v30, v0

    move-wide/from16 v31, v4

    invoke-static/range {v29 .. v34}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v10

    if-nez v10, :cond_9

    const-string/jumbo v0, "mdia box not found"

    goto/16 :goto_f

    :cond_9
    iget-wide v0, v2, LX/1u0;->A00:J

    invoke-static {v10, v0, v1}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v33

    sub-long v29, v33, v0

    new-array v1, v8, [I

    const v0, 0x68646c72    # 4.3148E24f

    aput v0, v1, v3

    move-object/from16 v26, v1

    invoke-static/range {v25 .. v30}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v6

    if-nez v6, :cond_a

    const-string v0, "hdlr box not found"

    goto/16 :goto_f

    :cond_a
    iget-wide v4, v2, LX/1u0;->A00:J

    iget-wide v0, v6, LX/2Ms;->A01:J

    add-long/2addr v4, v0

    iget-wide v6, v6, LX/2Ms;->A02:J

    sub-long/2addr v4, v6

    const-wide/16 v0, 0x10

    sub-long/2addr v0, v6

    invoke-static {v2, v0, v1}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    const/4 v1, 0x4

    new-array v6, v1, [B

    invoke-static {v2, v6, v3, v1}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v0

    if-eq v0, v1, :cond_b

    const-string v0, "hdlr box too short"

    goto/16 :goto_f

    :cond_b
    move/from16 v1, v23

    move/from16 v0, v21

    invoke-static {v6, v3, v8, v0, v1}, LX/3A3;->A03([BIIII)I

    move-result v6

    const v0, 0x736f756e

    if-eq v6, v0, :cond_d

    const v0, 0x76696465

    if-eq v6, v0, :cond_c

    goto/16 :goto_a

    :cond_c
    iget v0, v9, LX/35J;->A02:I

    if-eqz v0, :cond_f

    const-string/jumbo v0, "multiple hldr video tracks found"

    goto/16 :goto_f

    :cond_d
    const/16 v1, 0x8

    iget v0, v9, LX/35J;->A00:I

    if-eqz v0, :cond_f

    if-eq v0, v8, :cond_e

    if-eq v0, v1, :cond_e

    goto/16 :goto_c

    :cond_e
    const/4 v13, 0x1

    goto :goto_3

    :cond_f
    const/4 v13, 0x0

    :goto_3
    iget-wide v0, v2, LX/1u0;->A00:J

    sub-long/2addr v4, v0

    sub-long v33, v33, v0

    new-array v0, v8, [I

    const v1, 0x6d696e66

    aput v1, v0, v3

    move-object/from16 v29, v2

    move-object/from16 v30, v0

    move-wide/from16 v31, v4

    invoke-static/range {v29 .. v34}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v4

    if-nez v4, :cond_10

    const-string/jumbo v0, "minf box not found"

    goto/16 :goto_f

    :cond_10
    iget-wide v0, v2, LX/1u0;->A00:J

    invoke-static {v4, v0, v1}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v29

    sub-long v29, v29, v0

    new-array v1, v8, [I

    const v0, 0x7374626c

    aput v0, v1, v3

    move-object/from16 v26, v1

    invoke-static/range {v25 .. v30}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v4

    if-nez v4, :cond_11

    const-string/jumbo v0, "stbl box not found"

    goto/16 :goto_f

    :cond_11
    iget-wide v0, v2, LX/1u0;->A00:J

    invoke-static {v4, v0, v1}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v29

    sub-long v29, v29, v0

    new-array v1, v8, [I

    const v0, 0x73747364

    aput v0, v1, v3

    move-object/from16 v26, v1

    invoke-static/range {v25 .. v30}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v4

    if-nez v4, :cond_12

    const-string/jumbo v0, "stsd box not found"

    goto/16 :goto_f

    :cond_12
    const-wide/16 v0, 0x8

    invoke-static {v2, v0, v1}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    iget-wide v0, v2, LX/1u0;->A00:J

    invoke-static {v4, v0, v1}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v29

    const v4, 0x76696465

    if-ne v6, v4, :cond_17

    const/4 v11, 0x4

    new-array v10, v11, [I

    const v7, 0x61766331

    aput v7, v10, v3

    const v6, 0x6d703476

    aput v6, v10, v8

    const v5, 0x73323633

    aput v5, v10, v21

    const v4, 0x68766331

    aput v4, v10, v23

    sub-long v29, v29, v0

    move-object/from16 v26, v10

    invoke-static/range {v25 .. v30}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v0

    if-nez v0, :cond_13

    const-string/jumbo v0, "video content box not found"

    goto/16 :goto_f

    :cond_13
    iget v0, v0, LX/2Ms;->A00:I

    if-ne v0, v7, :cond_14

    move/from16 v0, v21

    iput v0, v9, LX/35J;->A02:I

    goto/16 :goto_b

    :cond_14
    if-ne v0, v6, :cond_15

    const/4 v11, 0x3

    goto :goto_4

    :cond_15
    if-ne v0, v5, :cond_16

    const/4 v11, 0x1

    goto :goto_4

    :cond_16
    if-ne v0, v4, :cond_26

    :goto_4
    iput v11, v9, LX/35J;->A02:I

    goto/16 :goto_b

    :cond_17
    const/4 v4, 0x5

    new-array v4, v4, [I

    const v11, 0x6d703461

    aput v11, v4, v3

    const v10, 0x73616d72

    aput v10, v4, v8

    const v7, 0x73617762

    aput v7, v4, v21

    const v6, 0x2e6d7033

    aput v6, v4, v23

    const v5, 0x65632d33

    const/4 v12, 0x4

    aput v5, v4, v12

    sub-long v29, v29, v0

    move-object/from16 v26, v4

    invoke-static/range {v25 .. v30}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v12

    if-nez v12, :cond_18

    const-string/jumbo v0, "sound content box not found"

    goto/16 :goto_f

    :cond_18
    if-eqz v13, :cond_19

    iget v1, v9, LX/35J;->A00:I

    const/16 v0, 0x8

    if-ne v1, v0, :cond_1a

    iget v0, v12, LX/2Ms;->A00:I

    if-ne v0, v11, :cond_28

    :cond_19
    :goto_5
    iget v0, v12, LX/2Ms;->A00:I

    const/4 v4, 0x7

    if-ne v0, v11, :cond_21

    iget-wide v0, v2, LX/1u0;->A00:J

    invoke-static {v12, v0, v1}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v35

    const-wide/16 v0, 0x8

    invoke-static {v2, v0, v1}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    invoke-static {v2}, LX/3A3;->A0D(Ljava/io/InputStream;)[I

    move-result-object v1

    aget v0, v1, v3

    aget v1, v1, v8

    if-eq v0, v3, :cond_1b

    goto :goto_6

    :cond_1a
    if-ne v1, v8, :cond_28

    iget v0, v12, LX/2Ms;->A00:I

    if-ne v0, v5, :cond_28

    goto :goto_5

    :goto_6
    move/from16 v0, v24

    if-ne v0, v4, :cond_1b

    goto :goto_7

    :cond_1b
    const/16 v7, 0x8

    int-to-long v4, v1

    iget-wide v0, v2, LX/1u0;->A00:J

    sub-long v35, v35, v0

    new-array v1, v8, [I

    const v0, 0x65736473

    aput v0, v1, v3

    goto :goto_8

    :goto_7
    int-to-long v4, v1

    iget-wide v0, v2, LX/1u0;->A00:J

    sub-long v33, v35, v0

    move/from16 v0, v21

    new-array v1, v0, [I

    const v0, 0x77617665

    aput v0, v1, v3

    const v6, 0x65736473

    aput v6, v1, v8

    const/16 v7, 0x8

    move-object/from16 v29, v2

    move-object/from16 v30, v1

    move-wide/from16 v31, v4

    invoke-static/range {v29 .. v34}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v8

    iget v1, v8, LX/2Ms;->A00:I

    if-ne v1, v0, :cond_1d

    iget-wide v4, v2, LX/1u0;->A00:J

    invoke-static {v8, v4, v5}, LX/3A3;->A04(LX/2Ms;J)J

    move-result-wide v0

    sub-long v29, v0, v4

    invoke-static {}, LX/0yU;->A1H()[I

    move-result-object v26

    aput v6, v26, v3

    invoke-static/range {v25 .. v30}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v8

    if-nez v8, :cond_1e

    iget-wide v4, v2, LX/1u0;->A00:J

    sub-long/2addr v0, v4

    invoke-static {v2, v0, v1}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    const-wide/16 v4, 0x0

    iget-wide v0, v2, LX/1u0;->A00:J

    sub-long v35, v35, v0

    invoke-static {}, LX/0yU;->A1H()[I

    move-result-object v1

    aput v6, v1, v3

    :goto_8
    move-object/from16 v31, v2

    move-object/from16 v32, v1

    move-wide/from16 v33, v4

    invoke-static/range {v31 .. v36}, LX/3A3;->A07(Ljava/io/InputStream;[IJJ)LX/2Ms;

    move-result-object v8

    if-nez v8, :cond_1e

    :cond_1c
    const-string v0, "esds box not found"

    goto :goto_f

    :cond_1d
    if-ne v1, v6, :cond_1c

    :cond_1e
    invoke-static {v8, v2}, LX/3A3;->A01(LX/2Ms;Ljava/io/InputStream;)I

    move-result v4

    iput v4, v9, LX/35J;->A00:I

    const/4 v1, 0x1

    if-eqz v13, :cond_20

    if-eq v4, v1, :cond_1f

    goto :goto_d

    :cond_1f
    iput v7, v9, LX/35J;->A00:I

    goto :goto_b

    :cond_20
    const/4 v0, 0x7

    if-ne v4, v0, :cond_26

    goto :goto_e

    :cond_21
    const/16 v1, 0x8

    if-ne v0, v10, :cond_22

    const/4 v1, 0x3

    goto :goto_9

    :cond_22
    if-ne v0, v7, :cond_23

    const/4 v1, 0x4

    goto :goto_9

    :cond_23
    if-ne v0, v6, :cond_25

    move/from16 v0, v24

    if-eq v0, v4, :cond_24

    const-string v0, ".mp3 box found in non-QuickTime file (?!)"

    invoke-static {v0}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;)V

    :cond_24
    const/4 v1, 0x2

    goto :goto_9

    :cond_25
    if-ne v0, v5, :cond_26

    :goto_9
    iput v1, v9, LX/35J;->A00:I

    goto :goto_b

    :goto_a
    invoke-static {v6}, LX/3A3;->A0C(I)[B

    move-result-object v1

    new-instance v0, Ljava/lang/String;

    invoke-direct {v0, v1}, Ljava/lang/String;-><init>([B)V

    :cond_26
    :goto_b
    iget-wide v4, v2, LX/1u0;->A00:J

    sub-long v0, v16, v4

    invoke-static {v2, v0, v1}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    const/4 v8, 0x1

    goto/16 :goto_1

    :cond_27
    const-string v0, "Unexpected eof reading tkhd"

    invoke-static {v0}, LX/001;->A0f(Ljava/lang/String;)Ljava/io/IOException;

    move-result-object v0

    throw v0

    :goto_c
    const/4 v0, 0x6

    iput v0, v9, LX/35J;->A00:I

    goto :goto_10

    :goto_d
    const-string/jumbo v0, "multiple hldr audio tracks found - not dolby mp4"

    goto :goto_f

    :goto_e
    iput-boolean v1, v9, LX/35J;->A05:Z

    goto :goto_10

    :cond_28
    const-string/jumbo v0, "multiple hldr audio tracks found - not dolby"

    goto :goto_f

    :cond_29
    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "Details found: "

    invoke-static {v1, v0, v9}, LX/0yK;->A1Q(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/Object;)V

    goto :goto_10

    :cond_2a
    const-string/jumbo v0, "video not MP4/3GP type file"

    :goto_f
    invoke-static {v0}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;)V

    sget-object v9, LX/3A3;->A04:LX/35J;
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    :goto_10
    invoke-virtual/range {v22 .. v22}, Ljava/io/InputStream;->close()V

    return-object v9

    :catchall_0
    move-exception v1

    :try_start_2
    invoke-virtual/range {v22 .. v22}, Ljava/io/InputStream;->close()V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_1

    throw v1

    :catchall_1
    move-exception v0

    invoke-virtual {v1, v0}, Ljava/lang/Throwable;->addSuppressed(Ljava/lang/Throwable;)V

    throw v1
.end method

.method public static A07(Ljava/io/InputStream;[IJJ)LX/2Ms;
    .locals 16

    move-wide/from16 v4, p4

    const/4 v7, 0x0

    move-object/from16 v10, p1

    aget v0, p1, v7

    invoke-static {v0}, LX/3A3;->A0C(I)[B

    move-result-object v1

    new-instance v0, Ljava/lang/String;

    invoke-direct {v0, v1}, Ljava/lang/String;-><init>([B)V

    const-wide/16 v14, 0x0

    move-wide/from16 v0, p2

    cmp-long v2, p2, v14

    move-object/from16 v8, p0

    if-lez v2, :cond_1

    cmp-long v2, p4, v14

    if-lez v2, :cond_0

    cmp-long v2, p2, p4

    if-lez v2, :cond_0

    const-string v0, "Not enough bytes to skip"

    invoke-static {v0}, LX/001;->A0f(Ljava/lang/String;)Ljava/io/IOException;

    move-result-object v0

    throw v0

    :cond_0
    invoke-static {v8, v0, v1}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    const-wide/16 v11, -0x1

    cmp-long v2, p4, v11

    if-nez v2, :cond_c

    const-wide/16 v4, -0x1

    :cond_1
    :goto_0
    const/16 v3, 0x8

    new-array v6, v3, [B

    :goto_1
    const-wide/16 v1, -0x1

    const/4 v13, 0x0

    cmp-long v0, v4, v1

    if-eqz v0, :cond_2

    cmp-long v0, v4, v14

    if-gtz v0, :cond_2

    return-object v13

    :cond_2
    invoke-static {v8, v6, v7, v3}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v9

    if-lt v9, v3, :cond_f

    int-to-long v0, v9

    const-wide/16 p1, -0x1

    cmp-long v2, v4, p1

    if-nez v2, :cond_4

    const-wide/16 v4, -0x1

    :goto_2
    const/4 v11, 0x4

    const/4 v0, 0x4

    :goto_3
    const/16 v12, 0x20

    if-ge v0, v3, :cond_5

    aget-byte v2, v6, v0

    if-ge v2, v12, :cond_3

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "Found non character data in box type "

    invoke-static {v0, v1, v2}, LX/0yK;->A0x(Ljava/lang/String;Ljava/lang/StringBuilder;I)V

    return-object v13

    :cond_3
    add-int/lit8 v0, v0, 0x1

    goto :goto_3

    :cond_4
    sub-long/2addr v4, v0

    goto :goto_2

    :cond_5
    aget-byte v13, v6, v7

    const/4 v14, 0x1

    aget-byte v2, v6, v14

    const/4 v0, 0x2

    aget-byte v1, v6, v0

    const/16 p0, 0x3

    aget-byte v0, v6, p0

    invoke-static {v13, v2, v1, v0}, LX/3A3;->A00(BBBB)I

    move-result v2

    new-instance v0, Ljava/lang/String;

    invoke-direct {v0, v6, v11, v11}, Ljava/lang/String;-><init>([BII)V

    const/4 v15, 0x7

    if-nez v2, :cond_7

    const/4 v2, -0x1

    :cond_6
    :goto_4
    const-wide/16 v12, 0x0

    cmp-long v0, v4, v12

    if-lez v0, :cond_9

    sub-int v0, v2, v9

    int-to-long v0, v0

    cmp-long v3, v4, v0

    if-gez v3, :cond_9

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "Length of box too long to be in current input: "

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    const/16 v0, 0x3e

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    invoke-static {v1, v4, v5}, LX/001;->A0o(Ljava/lang/StringBuilder;J)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, LX/001;->A0f(Ljava/lang/String;)Ljava/io/IOException;

    move-result-object v0

    throw v0

    :cond_7
    if-ne v2, v14, :cond_6

    new-array v13, v3, [B

    invoke-static {v8, v13, v7, v3}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v0

    add-int/2addr v9, v0

    const/16 v0, 0x10

    if-ne v9, v0, :cond_e

    int-to-long v0, v9

    cmp-long v2, v4, p1

    if-nez v2, :cond_8

    const-wide/16 v4, -0x1

    :goto_5
    aget-byte v3, v13, v7

    aget-byte v2, v13, v14

    const/4 v0, 0x2

    aget-byte v1, v13, v0

    aget-byte v0, v13, p0

    invoke-static {v3, v2, v1, v0}, LX/3A3;->A00(BBBB)I

    move-result v0

    int-to-long v2, v0

    shl-long/2addr v2, v12

    aget-byte v14, v13, v11

    const/4 v0, 0x5

    aget-byte v12, v13, v0

    const/4 v0, 0x6

    aget-byte v1, v13, v0

    aget-byte v0, v13, v15

    invoke-static {v14, v12, v1, v0}, LX/3A3;->A00(BBBB)I

    move-result v0

    int-to-long v0, v0

    or-long/2addr v0, v2

    const-wide/32 v12, 0x7fffffff

    cmp-long v2, v0, v12

    if-gtz v2, :cond_d

    long-to-int v2, v0

    goto :goto_4

    :cond_8
    sub-long/2addr v4, v0

    goto :goto_5

    :cond_9
    aget-byte v11, v6, v11

    const/4 v0, 0x5

    aget-byte v3, v6, v0

    const/4 v0, 0x6

    aget-byte v1, v6, v0

    aget-byte v0, v6, v15

    invoke-static {v11, v3, v1, v0}, LX/3A3;->A00(BBBB)I

    move-result v11

    invoke-static {v10, v11}, LX/39I;->A05([II)Z

    move-result v3

    invoke-static {v11}, LX/3A3;->A0C(I)[B

    move-result-object v1

    new-instance v0, Ljava/lang/String;

    if-eqz v3, :cond_a

    invoke-direct {v0, v1}, Ljava/lang/String;-><init>([B)V

    new-instance v0, LX/2Ms;

    invoke-direct {v0, v2, v11, v9}, LX/2Ms;-><init>(III)V

    return-object v0

    :cond_a
    invoke-direct {v0, v1}, Ljava/lang/String;-><init>([B)V

    sub-int/2addr v2, v9

    int-to-long v0, v2

    invoke-static {v8, v0, v1}, LX/3A3;->A0A(Ljava/io/InputStream;J)V

    cmp-long v2, v4, p1

    if-nez v2, :cond_b

    const-wide/16 v4, -0x1

    :goto_6
    const-wide/16 v14, 0x0

    const/16 v3, 0x8

    goto/16 :goto_1

    :cond_b
    sub-long/2addr v4, v0

    goto :goto_6

    :cond_c
    sub-long v4, p4, p2

    goto/16 :goto_0

    :cond_d
    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v2, "Length of box too long to be processed: "

    invoke-static {v2, v3, v0, v1}, LX/0yL;->A0Y(Ljava/lang/String;Ljava/lang/StringBuilder;J)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, LX/001;->A0f(Ljava/lang/String;)Ljava/io/IOException;

    move-result-object v0

    throw v0

    :cond_e
    const-string v0, "End of file looking for wide box length"

    invoke-static {v0}, LX/001;->A0f(Ljava/lang/String;)Ljava/io/IOException;

    move-result-object v0

    throw v0

    :cond_f
    const-string v0, "End of file looking for box header"

    invoke-static {v0}, LX/001;->A0f(Ljava/lang/String;)Ljava/io/IOException;

    move-result-object v0

    throw v0
.end method

.method public static A08(LX/1mE;)Ljava/lang/String;
    .locals 3

    iget v0, p0, LX/35J;->A00:I

    const-string v2, "audio/mp4"

    const/4 v1, 0x2

    packed-switch v0, :pswitch_data_0

    :pswitch_0
    const-string/jumbo v0, "unsupported audio type; returning null mime type"

    invoke-static {v0}, Lcom/whatsapp/util/Log;->w(Ljava/lang/String;)V

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "Audio type not supported: "

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    iget v0, p0, LX/35J;->A00:I

    invoke-static {v1, v0}, LX/001;->A0n(Ljava/lang/StringBuilder;I)Ljava/lang/String;

    move-result-object v1

    new-instance v0, LX/1yL;

    invoke-direct {v0, v1}, LX/1yL;-><init>(Ljava/lang/String;)V

    throw v0

    :pswitch_1
    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "invalid audio type returned; "

    invoke-static {p0, v0, v1}, LX/000;->A0Q(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/StringBuilder;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, LX/0yT;->A0e(Ljava/lang/Object;)Ljava/lang/AssertionError;

    move-result-object v0

    throw v0

    :pswitch_2
    const-string v0, "audio/ogg; codecs=opus"

    return-object v0

    :pswitch_3
    const-string v0, "audio/amr"

    return-object v0

    :pswitch_4
    iget v0, p0, LX/35J;->A01:I

    if-eq v0, v1, :cond_0

    const-string v2, "audio/aac"

    return-object v2

    :pswitch_5
    iget v0, p0, LX/35J;->A01:I

    if-eq v0, v1, :cond_0

    const-string v2, "audio/mpeg"

    :cond_0
    return-object v2

    :pswitch_data_0
    .packed-switch 0x1
        :pswitch_4
        :pswitch_5
        :pswitch_3
        :pswitch_0
        :pswitch_2
        :pswitch_1
    .end packed-switch
.end method

.method public static A09(Ljava/lang/String;Z)Ljava/lang/String;
    .locals 3

    invoke-static {p0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    const/4 v2, 0x0

    if-eqz v0, :cond_1

    if-eqz p1, :cond_0

    const-string v0, "empty audio mime type"

    :goto_0
    invoke-static {v0}, Lcom/whatsapp/util/Log;->w(Ljava/lang/String;)V

    :cond_0
    return-object v2

    :cond_1
    const-string v0, "audio/aac"

    invoke-virtual {v0, p0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_2

    const-string v0, "aac"

    return-object v0

    :cond_2
    const-string v0, "audio/mp4"

    invoke-virtual {v0, p0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_3

    const-string/jumbo v0, "m4a"

    return-object v0

    :cond_3
    const-string v0, "audio/amr"

    invoke-virtual {v0, p0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_4

    const-string v0, "amr"

    return-object v0

    :cond_4
    const-string v0, "audio/mpeg"

    invoke-virtual {v0, p0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_5

    const-string/jumbo v0, "mp3"

    return-object v0

    :cond_5
    const-string v0, "audio/ogg; codecs=opus"

    invoke-virtual {v0, p0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_6

    const-string/jumbo v0, "opus"

    return-object v0

    :cond_6
    if-eqz p1, :cond_0

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string/jumbo v0, "unrecognized audio mime type; mimeType="

    invoke-static {v0, p0, v1}, LX/000;->A0W(Ljava/lang/String;Ljava/lang/String;Ljava/lang/StringBuilder;)Ljava/lang/String;

    move-result-object v0

    goto :goto_0
.end method

.method public static A0A(Ljava/io/InputStream;J)V
    .locals 8

    const/16 v7, 0x400

    new-array v6, v7, [B

    :goto_0
    const-wide/16 v1, 0x0

    cmp-long v0, p1, v1

    if-lez v0, :cond_1

    int-to-long v2, v7

    invoke-static {v2, v3, p1, p2}, Ljava/lang/Math;->min(JJ)J

    move-result-wide v4

    long-to-int v1, v4

    const/4 v0, 0x0

    invoke-static {p0, v6, v0, v1}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v1

    const/4 v0, -0x1

    if-eq v1, v0, :cond_0

    sub-long/2addr p1, v2

    goto :goto_0

    :cond_0
    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "Unexpected EOF skipping "

    invoke-static {v0, v1, p1, p2}, LX/0yL;->A0Y(Ljava/lang/String;Ljava/lang/StringBuilder;J)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, LX/001;->A0f(Ljava/lang/String;)Ljava/io/IOException;

    move-result-object v0

    throw v0

    :cond_1
    return-void
.end method

.method public static A0B([B[BI)Z
    .locals 5

    array-length v0, p0

    sub-int/2addr v0, p2

    array-length v4, p1

    const/4 v3, 0x0

    if-lt v0, v4, :cond_1

    const/4 v2, 0x0

    :goto_0
    if-ge v2, v4, :cond_0

    add-int v0, p2, v2

    aget-byte v1, p0, v0

    aget-byte v0, p1, v2

    if-ne v1, v0, :cond_1

    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    :cond_0
    const/4 v0, 0x1

    return v0

    :cond_1
    return v3
.end method

.method public static A0C(I)[B
    .locals 3

    const/4 v0, 0x4

    new-array v2, v0, [B

    shr-int/lit8 v0, p0, 0x18

    and-int/lit16 v0, v0, 0xff

    int-to-byte v1, v0

    const/4 v0, 0x0

    aput-byte v1, v2, v0

    shr-int/lit8 v0, p0, 0x10

    and-int/lit16 v0, v0, 0xff

    int-to-byte v1, v0

    const/4 v0, 0x1

    aput-byte v1, v2, v0

    shr-int/lit8 v0, p0, 0x8

    and-int/lit16 v0, v0, 0xff

    int-to-byte v1, v0

    const/4 v0, 0x2

    aput-byte v1, v2, v0

    and-int/lit16 v0, p0, 0xff

    int-to-byte v1, v0

    const/4 v0, 0x3

    aput-byte v1, v2, v0

    return-object v2
.end method

.method public static A0D(Ljava/io/InputStream;)[I
    .locals 6

    const/4 v5, 0x2

    new-array v1, v5, [B

    const/4 v4, 0x0

    invoke-static {p0, v1, v4, v5}, LX/3A3;->A02(Ljava/io/InputStream;[BII)I

    move-result v0

    if-ne v0, v5, :cond_3

    aget-byte v0, v1, v4

    and-int/lit16 v0, v0, 0xff

    shl-int/lit8 v3, v0, 0x8

    const/4 v2, 0x1

    aget-byte v0, v1, v2

    and-int/lit16 v0, v0, 0xff

    or-int/2addr v3, v0

    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string/jumbo v0, "mp4a box version: "

    invoke-static {v0, v1, v3}, LX/0yK;->A0x(Ljava/lang/String;Ljava/lang/StringBuilder;I)V

    if-nez v3, :cond_0

    new-array v1, v5, [I

    aput v4, v1, v4

    const/16 v0, 0x12

    :goto_0
    aput v0, v1, v2

    return-object v1

    :cond_0
    if-ne v3, v2, :cond_1

    new-array v1, v5, [I

    aput v2, v1, v4

    const/16 v0, 0x22

    goto :goto_0

    :cond_1
    if-ne v3, v5, :cond_2

    new-array v1, v5, [I

    aput v5, v1, v4

    const/16 v0, 0x36

    goto :goto_0

    :cond_2
    const-string v0, "Unexpected result getting mp4a version"

    invoke-static {v0}, LX/001;->A0f(Ljava/lang/String;)Ljava/io/IOException;

    move-result-object v0

    throw v0

    :cond_3
    const-string v0, "Unexpected eof getting mp4a version"

    invoke-static {v0}, LX/001;->A0f(Ljava/lang/String;)Ljava/io/IOException;

    move-result-object v0

    throw v0
.end method

.method public static A0E([BII)[I
    .locals 8

    add-int/lit8 v0, p1, 0x4

    const/4 v7, 0x0

    :try_start_0
    invoke-static {p2, v0}, Ljava/lang/Math;->min(II)I

    move-result v6

    const/4 v5, 0x0

    move v4, p1

    const/4 v2, 0x0

    :cond_0
    const/4 v3, 0x1

    add-int/lit8 v4, v4, 0x1

    shl-int/lit8 v2, v2, 0x7

    aget-byte v1, p0, v4

    and-int/lit8 v0, v1, 0x7f

    add-int/2addr v2, v0

    if-ge p1, v6, :cond_1

    and-int/lit16 v1, v1, 0x80

    const/16 v0, 0x80

    if-eq v1, v0, :cond_0

    :cond_1
    if-nez v2, :cond_2

    return-object v7

    :cond_2
    const/4 v0, 0x2

    new-array v0, v0, [I

    aput v4, v0, v5

    aput v2, v0, v3

    return-object v0
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    :catch_0
    move-exception v1

    const-string v0, "Exception processing esds box: "

    invoke-static {v0, v1}, Lcom/whatsapp/util/Log;->i(Ljava/lang/String;Ljava/lang/Throwable;)V

    return-object v7
.end method


# virtual methods
.method public A0F(Ljava/io/File;)Z
    .locals 3

    invoke-static {p1}, LX/3A3;->A05(Ljava/io/File;)LX/1mE;

    move-result-object v2

    iget v0, v2, LX/35J;->A00:I

    packed-switch v0, :pswitch_data_0

    :pswitch_0
    const/4 v0, 0x0

    return v0

    :pswitch_1
    const/4 v0, 0x1

    return v0

    :pswitch_2
    invoke-static {}, LX/001;->A0r()Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v0, "invalid audio file type returned; "

    invoke-static {v2, v0, v1}, LX/000;->A0Q(Ljava/lang/Object;Ljava/lang/String;Ljava/lang/StringBuilder;)Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, LX/0yT;->A0e(Ljava/lang/Object;)Ljava/lang/AssertionError;

    move-result-object v0

    throw v0

    :pswitch_data_0
    .packed-switch 0x1
        :pswitch_1
        :pswitch_1
        :pswitch_1
        :pswitch_0
        :pswitch_1
        :pswitch_2
    .end packed-switch
.end method

.method public A0G(Ljava/io/File;)Z
    .locals 6

    invoke-static {p1}, LX/3A3;->A06(Ljava/io/File;)LX/35J;

    move-result-object v5

    iget v0, v5, LX/35J;->A01:I

    const/4 v4, 0x3

    const/4 v3, 0x2

    if-eq v0, v3, :cond_0

    if-ne v0, v4, :cond_3

    :cond_0
    iget v2, v5, LX/35J;->A00:I

    const/4 v0, 0x4

    const/4 v1, 0x1

    if-eq v2, v0, :cond_1

    if-eq v2, v3, :cond_1

    if-eq v2, v1, :cond_1

    if-eqz v2, :cond_1

    const/16 v0, 0x8

    if-ne v2, v0, :cond_3

    :cond_1
    iget v0, v5, LX/35J;->A02:I

    if-eq v0, v3, :cond_2

    if-eq v0, v1, :cond_2

    if-ne v0, v4, :cond_3

    :cond_2
    return v1

    :cond_3
    const/4 v1, 0x0

    return v1
.end method
